#%RAML 1.0
baseUri: https://0.0.0.0:443/ig/data/portal/investment/1.3
title: IG-Data-Portal Investment
version: 1.3

traits:
  standardHeaders:
    headers:  
      X-Correlation-ID: 
        description: correlationID provided by client application
        type: string
        required: false

securitySchemes:
  basic:
    type: Basic Authentication  
    describedBy: 
      headers: 
        Authorization:
          type: string

/clients/{CLIENT_BPID}/accountPerformance:
  get:
    securedBy: basic
    is: ["standardHeaders"]
    queryParameters:
      ACCOUNT_NUMBER?:
      LANG?:
        enum: [ EN, FR ]
        default: EN
    responses:
      200:
        body:
          application/json:
            example: |
              { "Client": {  "AccountPerformances": [ { "CLIENT_BPID": "1463916", "CLIENT_NUMBER": "123456", "ACCOUNT_NUMBER": "123456", "SOURCE_SYSTEM": "RBroker", "OPENING_VALUE_YTD": "1000.00", "CLOSING_VALUE_YTD": "1001.00", "STARTING_YTD": "2017-01-01", "ROR_YTD": "1001.00", "OPENING_VALUE_1YR": "1000.00", "CLOSING_VALUE_1YR": "1001.00", "STARTING_1YR": "2017-01-01", "ROR_1YR": "1001.00", "OPENING_VALUE_3YR": "1000.00", "CLOSING_VALUE_3YR": "1001.00", "STARTING_3YR": "2017-01-01", "ROR_3YR": "1001.00", "OPENING_VALUE_5YR": "1000.00", "CLOSING_VALUE_5YR": "1001.00", "STARTING_5YR": "2017-01-01", "ROR_5YR": "1001.00", "OPENING_VALUE_INCEPTION": "1000.00", "CLOSING_VALUE_INCEPTION": "1001.00", "STARTING_INCEPTION": "2017-01-01", "ROR_INCEPTION": "1001.00" },  { "CLIENT_BPID": "1463917", "CLIENT_NUMBER": "234567", "ACCOUNT_NUMBER": "234567", "SOURCE_SYSTEM": "SAS", "OPENING_VALUE_YTD": "2000.00", "CLOSING_VALUE_YTD": "2001.00", "STARTING_YTD": "2017-01-01", "ROR_YTD": "2001.00", "OPENING_VALUE_1YR": "2000.00", "CLOSING_VALUE_1YR": "2001.00", "STARTING_1YR": "2017-01-01", "ROR_1YR": "2001.00", "OPENING_VALUE_3YR": "2000.00", "CLOSING_VALUE_3YR": "2001.00", "STARTING_3YR": "2017-01-01", "ROR_3YR": "2001.00", "OPENING_VALUE_5YR": "2000.00", "CLOSING_VALUE_5YR": "2001.00", "STARTING_5YR": "2017-01-01", "ROR_5YR": "2001.00", "OPENING_VALUE_INCEPTION": "2000.00", "CLOSING_VALUE_INCEPTION": "2001.00", "STARTING_INCEPTION": "2017-01-01", "ROR_INCEPTION": "2001.00" } ]  } }

/clients/{CLIENT_BPID}/accounts/{ACCOUNT_NUMBER}/details:
  get:
    securedBy: basic
    is: ["standardHeaders"]
    queryParameters:
      LANG?:
        enum: [ EN, FR ]
        default: EN
    responses:
      200:
        body:
          application/json:
            example: |
              { "Client": {  "AccountDetails": [ { "CLIENT_BPID": "1463916", "CLIENT_NUMBER": "123456", "CLIENT_NUMBER_TYPE": "ZWFDCA", "ACCOUNT_NUMBER": "123456", "CONSULTANT_NUMBER": "123456", "ACCOUNT_TYPE": "12", "ACCOUNT_TYPE_LABEL": "RRSP", "IS_REGISTERED ": "Y", "DEALER_NUMBER": "7759", "DEALER_NAME": "IGS", "SOURCE_SYSTEM": "RBroker", "REPORTING_DATE": "2017-09-01", "AS_OF_DATE": "2017-09-01", "BALANCE_DATE": "2017-09-01", "PURCHASE_DATE": "2017-09-01", "MARKET_VALUE_CAD": "181839.02", "BOOK_COST_CAD": "181839.02", "GAIN_LOSS_CAD": "839.02", "CANADIAN_INCOME": "839.02", "FOREIGN_INCOME": "839.02", "FIRST_60_DAY_CONTRIBUTION_AMOUNT": "839.02", "LAST_10_MONTH_CONTRIBUTION_AMOUNT": "839.02", "SUCCESSOR_HOLDER_NAME": "Bob Smith", "GROUP_SPONSOR_NAME": "Sponsor 1", "GROUP_SPONSOR_NUMBER": "123456", "SPOUSAL_CONTRIBUTOR_NAME": "Bob Smith", "RRIF_MINIMUM_WITHDRAWAL_AMOUNT": "839.02", "RRIF_YTD_WITHDRAWAL_AMOUNT": "839.02", "RRIF_REQUESTED_PAYOUT_AMOUNT": "839.02", "POLICY_NUMBER": "123456", "JOINT_ANNUITANT_NAME": "Bob Smith", "LIFETIME_INCOME_AMOUNT": "839.02", "LIB_MINIMUM_AMOUNT": "839.02", "MATURITY_GUARANTEE_DATE": "2017-09-01", "MATURITY_GUARANTEE_AMOUNT ": "839.02", "DEATH_BENEFIT_GUARANTEE_AMOUNT ": "839.02", "GUARANTEE_LEVEL": "???", "YTD_CONTRIBUTION_AMOUNT": "839.02", "CRA_PLAN_ID": "???", "NET_CONTRIBUTIONS": "181839.02", "TOTAL_CONTRIBUTED_AMOUNT": "181839.02", "TOTAL_REDEEMED_AMOUNT": "181839.02", "TOTAL_DISTRIBUTED_AMOUNT": "181839.02", "TOTAL_REINVESTED_AMOUNT": "181839.02", "NET_CONTRIBUTIONS_YTD": "181839.02", "NET_WITHDRAWALS_YTD": "181839.02", "NET_TRANSFERS_IN_YTD": "181839.02", "NET_TRANSFERS_OUT_YTD": "181839.02", "NET_CONTRIBUTIONS_INCEPTION": "181839.02", "NET_WITHDRAWALS_INCEPTION": "181839.02", "NET_TRANSFERS_IN_INCEPTION": "181839.02", "NET_TRANSFERS_OUT_INCEPTION": "181839.02", "BENEFICIARY_NAME": "Bob Smith", "IPROFILE_MODEL_NUMBER": "", "CURRENCY": "CAD" },  { "CLIENT_BPID": "1463917", "CLIENT_NUMBER": "234567", "CLIENT_NUMBER_TYPE": "ZRB_ID", "ACCOUNT_NUMBER": "234567", "CONSULTANT_NUMBER": "234567", "ACCOUNT_TYPE": "02", "ACCOUNT_TYPE_LABEL": "TFSA", "IS_REGISTERED ": "N", "DEALER_NUMBER": "9737", "DEALER_NAME": "IGSI", "SOURCE_SYSTEM": "SAS", "REPORTING_DATE": "2017-08-12", "AS_OF_DATE": "2017-08-12", "BALANCE_DATE": "2017-08-12", "PURCHASE_DATE": "2017-08-12", "MARKET_VALUE_CAD": "21432.01", "BOOK_COST_CAD": "21432.01", "GAIN_LOSS_CAD": "-432.01", "CANADIAN_INCOME": "-432.01", "FOREIGN_INCOME": "-432.01", "FIRST_60_DAY_CONTRIBUTION_AMOUNT": "432.01", "LAST_10_MONTH_CONTRIBUTION_AMOUNT": "432.01", "SUCCESSOR_HOLDER_NAME": "Bob Smith | Brenda Jones", "GROUP_SPONSOR_NAME": "Sponsor 2 | Sponsor 3", "GROUP_SPONSOR_NUMBER": "987654", "SPOUSAL_CONTRIBUTOR_NAME": "Bob Smith | Brenda Jones", "RRIF_MINIMUM_WITHDRAWAL_AMOUNT": "432.01", "RRIF_YTD_WITHDRAWAL_AMOUNT": "432.01", "RRIF_REQUESTED_PAYOUT_AMOUNT": "432.01", "POLICY_NUMBER": "987654", "JOINT_ANNUITANT_NAME": "Bob Smith | Brenda Jones", "LIFETIME_INCOME_AMOUNT": "432.01", "LIB_MINIMUM_AMOUNT": "432.01", "MATURITY_GUARANTEE_DATE": "2017-08-12", "MATURITY_GUARANTEE_AMOUNT ": "432.01", "DEATH_BENEFIT_GUARANTEE_AMOUNT ": "432.01", "GUARANTEE_LEVEL": "???", "YTD_CONTRIBUTION_AMOUNT": "432.01", "CRA_PLAN_ID": "???", "NET_CONTRIBUTIONS": "21432.02", "TOTAL_CONTRIBUTED_AMOUNT": "21432.02", "TOTAL_REDEEMED_AMOUNT": "21432.02", "TOTAL_DISTRIBUTED_AMOUNT": "21432.02", "TOTAL_REINVESTED_AMOUNT": "21432.02", "NET_CONTRIBUTIONS_YTD": "21432.02", "NET_WITHDRAWALS_YTD": "21432.02", "NET_TRANSFERS_IN_YTD": "21432.02", "NET_TRANSFERS_OUT_YTD": "21432.02", "NET_CONTRIBUTIONS_INCEPTION": "21432.02", "NET_WITHDRAWALS_INCEPTION": "21432.02", "NET_TRANSFERS_IN_INCEPTION": "21432.02", "NET_TRANSFERS_OUT_INCEPTION": "21432.02", "BENEFICIARY_NAME": "Bob Smith | Brenda Jones", "IPROFILE_MODEL_NUMBER": "234567", "CURRENCY": "USD" } ]  } }

/clients/{CLIENT_BPID}/accountSummary:
  get:
    securedBy: basic
    is: ["standardHeaders"]
    queryParameters:
      LANG?:
        enum: [ EN, FR ]
        default: EN
    responses:
      200:
        body:
          application/json:
            example: |
              { "Client": {  "AccountSummaries": [ { "CLIENT_BPID": "1463916", "CLIENT_NUMBER": "123456", "CLIENT_NUMBER_TYPE": "ZWFDCA", "ACCOUNT_NUMBER": "123456", "ACCOUNT_TYPE": "12", "ACCOUNT_TYPE_LABEL": "RRSP", "CONSULTANT_NUMBER": "123456", "DEALER_NUMBER": "7759", "DEALER_NAME": "IGS", "SOURCE_SYSTEM": "RBroker", "REGISTRATION_TYPE": "GIF", "MARKET_VALUE_CAD": "181839.02", "BOOK_COST_CAD": "181839.02", "GAIN_LOSS_CAD": "839.02", "REPORTING_DATE": "2017-09-01", "AS_OF_DATE": "2017-09-01" },  { "CLIENT_BPID": "1463917", "CLIENT_NUMBER": "234567", "CLIENT_NUMBER_TYPE": "ZRB_ID", "ACCOUNT_NUMBER": "234567", "ACCOUNT_TYPE": "02", "ACCOUNT_TYPE_LABEL": "TFSA", "CONSULTANT_NUMBER": "234567", "DEALER_NUMBER": "9737", "DEALER_NAME": "IGSI", "SOURCE_SYSTEM": "SAS", "REGISTRATION_TYPE": "GIF", "MARKET_VALUE_CAD": "21432.01", "BOOK_COST_CAD": "21432.01", "GAIN_LOSS_CAD": "-432.01", "REPORTING_DATE": "2017-08-12", "AS_OF_DATE": "2017-08-12" } ]  } }

/clients/{CLIENT_BPID}/assetMix:
  get:
    securedBy: basic
    is: ["standardHeaders"]
    queryParameters:
      ACCOUNT_NUMBER?:
      LANG?:
        enum: [ EN, FR ]
        default: EN
    responses:
      200:
        body:
          application/json:
            example: |
              { "Client": {  "AssetMixes": [ { "CLIENT_BPID": "1463916", "CLIENT_NUMBER": "123456", "ACCOUNT_NUMBER": "123456", "SOURCE_SYSTEM": "RBroker", "CASH_AMOUNT": "181839.02", "FIXED_INCOME_AMOUNT": "181839.02", "BALANCED_AMOUNT": "181839.02", "EQUITY_AMOUNT": "181839.02", "SPECIALTY_AMOUNT": "181839.02", "MONEY_MARKET_AMOUNT": "181839.02" },  { "CLIENT_BPID": "1463917", "CLIENT_NUMBER": "234567", "ACCOUNT_NUMBER": "234567", "SOURCE_SYSTEM": "SAS", "CASH_AMOUNT": "21432.01", "FIXED_INCOME_AMOUNT": "21432.01", "BALANCED_AMOUNT": "21432.01", "EQUITY_AMOUNT": "21432.01", "SPECIALTY_AMOUNT": "21432.01", "MONEY_MARKET_AMOUNT": "21432.01" } ]  } }

/clients/{CLIENT_BPID}/holdings:
  get:
    securedBy: basic
    is: ["standardHeaders"]
    queryParameters:
      ACCOUNT_NUMBER?:
      LANG?:
        enum: [ EN, FR ]
        default: EN
    responses:
      200:
        body:
          application/json:
            example: |
              { "Client": {  "Holdings": [ { "CLIENT_BPID": "1463916", "CLIENT_NUMBER": "123456", "ACCOUNT_NUMBER": "123456", "SOURCE_SYSTEM": "RBroker", "PRODUCT_TYPE": "Type1", "HOLDING_NUMBER": "123456", "CONSULTANT_NUMBER": "123456", "COMPANY": "COMPANY", "FUND_NUMBER": "1234", "PRODUCT_NAME": "Global Bond Fund", "LOAD_TYPE": "DSC", "SERIES": "U", "MARKET_VALUE_CAD": "181839.02", "BOOK_COST_CAD": "181839.02", "GAIN_LOSS_CAD": "839.02", "SETTLED_UNITS": "100.00", "CALC_PRICE": "181839.00", "AVERAGE_UNIT_PRICE": "181839.00", "REPORTING_DATE": "2017-06-01", "AS_OF_DATE": "2017-09-01", "PURCHASE_DATE": "2017-06-01", "INITIAL_VALUE": "181839.02", "TERM": "6 Months", "MATURITY_DATE": "2017-06-01", "MATURITY_VALUE": "181839.02", "INTEREST_RATE": "1.02", "INTEREST_FREQUENCY": "Monthly", "MAXIMUM_INTEREST_PER_PAYMENT": "39.02", "INVESTMENT_AMOUNT": "181839.02", "TOTAL_PAID": "181839.02", "REMAINING_PAYMENT_AMOUNT": "839.02", "REMAINING_PAYMENT_COUNT": "10", "REGULAR_PAYMENT_AMOUNT": "839.02", "REGULAR_PAYMENT_FREQUENCY": "Monthly", "LAST_PAYMENT_DATE": "2017-06-01", "NEXT_PAYMENT_DATE": "2017-06-01", "OPTION_ELECTED": "???", "LAST_INCOME_PAYMENT": "839.02", "NEXT_INCOME_PAYMENT": "839.02", "REMAINING_12_PAYMENTS": "839.02", "SEMI_ANNUAL_PAYMENT": "839.02", "GUARANTEED_RATE": "1.02", "GUARANTEED_EARNINGS": "839.02", "ADDITIONAL_CREDITS": "839.02", "ADDITIONAL_CREDITS_RATE": "1.02", "RESERVE_VALUE": "839.02", "CONTRIBUTOR": "Bob Smith", "BENEFICIARY": "Bob Smith", "RETURN_AT_MATURITY": "839.02", "CASH_SURRENDER_VALUE": "839.02", "ADVANCE_PAY_AND_INTEREST": "839.02", "AGE_IN_MONTHS": "10", "NET_CONTRIBUTIONS": "181839.02", "TOTAL_CONTRIBUTED_AMOUNT": "181839.02", "TOTAL_REDEEMED_AMOUNT": "181839.02", "TOTAL_DISTRIBUTED_AMOUNT": "181839.02", "TOTAL_REINVESTED_AMOUNT": "181839.02" },  { "CLIENT_BPID": "1463917", "CLIENT_NUMBER": "234567", "ACCOUNT_NUMBER": "234567", "SOURCE_SYSTEM": "SAS", "PRODUCT_TYPE": "Type2", "HOLDING_NUMBER": "567823", "CONSULTANT_NUMBER": "234567", "COMPANY": "COMPANY", "FUND_NUMBER": "5678", "PRODUCT_NAME": "Soemthing else", "LOAD_TYPE": "NL", "SERIES": "A", "MARKET_VALUE_CAD": "21432.01", "BOOK_COST_CAD": "21432.01", "GAIN_LOSS_CAD": "-432.01", "SETTLED_UNITS": "42.42", "CALC_PRICE": "21432.42", "AVERAGE_UNIT_PRICE": "21432.42", "REPORTING_DATE": "2017-06-01", "AS_OF_DATE": "2017-08-12", "PURCHASE_DATE": "2017-08-12", "INITIAL_VALUE": "21432.02", "TERM": "20 Years", "MATURITY_DATE": "2017-08-12", "MATURITY_VALUE": "21432.02", "INTEREST_RATE": "0.502", "INTEREST_FREQUENCY": "Annual", "MAXIMUM_INTEREST_PER_PAYMENT": "50.00", "INVESTMENT_AMOUNT": "21432.02", "TOTAL_PAID": "21432.02", "REMAINING_PAYMENT_AMOUNT": "432.02", "REMAINING_PAYMENT_COUNT": "12", "REGULAR_PAYMENT_AMOUNT": "432.02", "REGULAR_PAYMENT_FREQUENCY": "Annual", "LAST_PAYMENT_DATE": "2017-08-12", "NEXT_PAYMENT_DATE": "2017-08-12", "OPTION_ELECTED": "???", "LAST_INCOME_PAYMENT": "432.02", "NEXT_INCOME_PAYMENT": "432.02", "REMAINING_12_PAYMENTS": "432.02", "SEMI_ANNUAL_PAYMENT": "432.02", "GUARANTEED_RATE": "0.502", "GUARANTEED_EARNINGS": "432.02", "ADDITIONAL_CREDITS": "432.02", "ADDITIONAL_CREDITS_RATE": "0.502", "RESERVE_VALUE": "432.02", "CONTRIBUTOR": "Bob Smith | Brenda Jones", "BENEFICIARY": "Bob Smith | Brenda Jones", "RETURN_AT_MATURITY": "432.02", "CASH_SURRENDER_VALUE": "432.02", "ADVANCE_PAY_AND_INTEREST": "432.02", "AGE_IN_MONTHS": "20", "NET_CONTRIBUTIONS": "21432.02", "TOTAL_CONTRIBUTED_AMOUNT": "21432.02", "TOTAL_REDEEMED_AMOUNT": "21432.02", "TOTAL_DISTRIBUTED_AMOUNT": "21432.02", "TOTAL_REINVESTED_AMOUNT": "21432.02" } ]  } }

/clients/{CLIENT_BPID}/instructions:
  get:
    securedBy: basic
    is: ["standardHeaders"]
    queryParameters:
      ACCOUNT_NUMBER?:
      HOLDING_NUMBER?:
      LANG?:
        enum: [ EN, FR ]
        default: EN
    responses:
      200:
        body:
          application/json:
            example: |
              { "Client": {  "Instructions": [ { "CLIENT_BPID": "1463916", "CLIENT_NUMBER": "123456", "ACCOUNT_NUMBER": "123456", "SOURCE_SYSTEM": "RBroker", "ACCOUNT_TYPE": "12", "ACCOUNT_TYPE_LABEL": "RRSP", "HOLDING_NUMBER": "123456", "HOLDING_NAME": "123456", "INSTRUCTION_TYPE": "BUY", "INSTRUCTION_TYPE_LABEL": "Buy", "FREQUENCY": "Single", "NET_AMOUNT_CAD": "10000.0", "GROSS_AMOUNT_CAD": "181839.02", "NEXT_TRANSACTION_DATE": "2017-10-01", "START_DATE": "2017-08-01", "END_DATE": "2018-08-01" },  { "CLIENT_BPID": "1463917", "CLIENT_NUMBER": "234567", "ACCOUNT_NUMBER": "234567", "SOURCE_SYSTEM": "SAS", "ACCOUNT_TYPE": "02", "ACCOUNT_TYPE_LABEL": "TFSA", "HOLDING_NUMBER": "567823", "HOLDING_NAME": "567823", "INSTRUCTION_TYPE": "CON", "INSTRUCTION_TYPE_LABEL": "Contribution", "FREQUENCY": "Monthly", "NET_AMOUNT_CAD": "200.0", "GROSS_AMOUNT_CAD": "21432.01", "NEXT_TRANSACTION_DATE": "2018-02-01", "START_DATE": "2017-11-01", "END_DATE": "2018-11-01" } ]  } }

/clients/{CLIENT_BPID}/investmentProfile:
  get:
    securedBy: basic
    is: ["standardHeaders"]
    queryParameters:
      ACCOUNT_NUMBER?:
      LANG?:
        enum: [ EN, FR ]
        default: EN
    responses:
      200:
        body:
          application/json:
            example: |
              { "Client": {  "InvestmentProfiles": [ { "CLIENT_BPID": "1463916", "CLIENT_NUMBER": "123456", "ACCOUNT_NUMBER": "123456", "SOURCE_SYSTEM": "RBroker", "INVESTMENT_PROFILE": "Moderate", "INVESTMENT_OBJECTIVE": "Retirement Savings", "RISK_TOLERANCE": "Low", "INVESTMENT_TIME_HORIZON": "5 - 10 yrs", "ACCOUNT_STATUS_CODE": "ACTIVE" },  { "CLIENT_BPID": "1463917", "CLIENT_NUMBER": "234567", "ACCOUNT_NUMBER": "234567", "SOURCE_SYSTEM": "SAS", "INVESTMENT_PROFILE": "High", "INVESTMENT_OBJECTIVE": "Retirement Savings", "RISK_TOLERANCE": "Medium", "INVESTMENT_TIME_HORIZON": "5 - 10 yrs", "ACCOUNT_STATUS_CODE": "CLOSED" } ]  } }

/clients/{CLIENT_BPID}/transactions:
  get:
    securedBy: basic
    is: ["standardHeaders"]
    queryParameters:
      ACCOUNT_NUMBER?:
      HOLDING_NUMBER?:
      LANG?:
        enum: [ EN, FR ]
        default: EN
    responses:
      200:
        body:
          application/json:
            example: |
              { "Client": {  "Transactions": [ { "CLIENT_BPID": "1463916", "CLIENT_NUMBER": "123456", "ACCOUNT_NUMBER": "123456", "ACCOUNT_TYPE": "12", "ACCOUNT_TYPE_LABEL": "RRSP", "HOLDING_NUMBER": "123456", "HOLDING_NAME": "123456", "SOURCE_SYSTEM": "RBroker", "TRANSACTION_DATE": "2017-09-01", "TRANSACTION_TYPE": "BUY", "TRANSACTION_TYPE_LABEL": "Buying", "UNIT_PRICE": "39.02", "UNITS": "100", "NET_AMOUNT": "181839.02", "TRANSACTION_CHARGE": "3.02", "TAXES": "3.02", "GROSS_AMOUNT": "181839.02", "CURRENCY": "CAD", "EXCHANGE_RATE": "1.0" },  { "CLIENT_BPID": "1463917", "CLIENT_NUMBER": "234567", "ACCOUNT_NUMBER": "234567", "ACCOUNT_TYPE": "02", "ACCOUNT_TYPE_LABEL": "TFSA", "HOLDING_NUMBER": "567823", "HOLDING_NAME": "567823", "SOURCE_SYSTEM": "SAS", "TRANSACTION_DATE": "2017-08-12", "TRANSACTION_TYPE": "SELL", "TRANSACTION_TYPE_LABEL": "Selling", "UNIT_PRICE": "32.01", "UNITS": "200", "NET_AMOUNT": "21432.01", "TRANSACTION_CHARGE": "1.01", "TAXES": "1.01", "GROSS_AMOUNT": "21432.01", "CURRENCY": "USD", "EXCHANGE_RATE": "0.82" } ]  } }
